{
  "itq_comparison": {
    "sparse": {
      "baseline": {
        "precision_at_1": 0.58,
        "precision_at_5": 0.5000000000000001,
        "precision_at_10": 0.45599999999999996,
        "map": 0.4238551657149136,
        "bit_balance": 0.47829687499999995,
        "bit_entropy": 0.9851675082126412
      },
      "itq": {
        "precision_at_1": 0.63,
        "precision_at_5": 0.58,
        "precision_at_10": 0.559,
        "map": 0.5320877686319102,
        "bit_balance": 0.5005625,
        "bit_entropy": 0.9995123248283485
      },
      "improvements": {
        "p@1": 8.620689655172423,
        "p@5": 15.999999999999966,
        "p@10": 22.587719298245638,
        "map": 25.53527989553729
      }
    },
    "dense": {
      "baseline": {
        "precision_at_1": 0.59,
        "precision_at_5": 0.4640000000000001,
        "precision_at_10": 0.3990000000000001,
        "map": 0.36365015904518694,
        "bit_balance": 0.49350000000000005,
        "bit_entropy": 0.993057583386587
      },
      "itq": {
        "precision_at_1": 0.84,
        "precision_at_5": 0.7780000000000001,
        "precision_at_10": 0.7659999999999999,
        "map": 0.6934547109874343,
        "bit_balance": 0.5002187499999999,
        "bit_entropy": 0.9994782588517825
      },
      "improvements": {
        "p@1": 42.37288135593221,
        "p@5": 67.67241379310344,
        "p@10": 91.97994987468665,
        "map": 90.69281113699886
      }
    }
  },
  "calibration_drift": {
    "calibration": {
      "optimal_threshold": "30",
      "cal_results": [
        {
          "threshold": 30,
          "precision_at_k": {
            "1": 0.0,
            "5": 0.2,
            "10": 0.3,
            "20": 0.25
          },
          "recall_at_k": {
            "1": 0.0,
            "5": 3.928809963462067e-05,
            "10": 0.00011786429890386202,
            "20": 0.00019644049817310337
          },
          "map_score": 0.24992008594198117,
          "ndcg_score": 0.8684260418250059,
          "roc_auc": 0.5515735329419644,
          "average_precision": 0.24992008594198117,
          "f1_score": 0.0,
          "precision_ci": {
            "1": [
              0.0,
              1.0
            ],
            "5": [
              0.0,
              0.7049999999999997
            ],
            "10": [
              0.1,
              0.6
            ],
            "20": [
              0.2,
              0.5524999999999999
            ]
          },
          "recall_ci": {
            "1": [
              0.0,
              3.925330541075071e-05
            ],
            "5": [
              0.0,
              0.0001379288793799526
            ],
            "10": [
              3.891898623352837e-05,
              0.00023546734717944757
            ],
            "20": [
              0.00015646604289844902,
              0.0004324654332639249
            ]
          },
          "map_ci": [
            0.24750406480816892,
            0.25449663804041506
          ],
          "ndcg_ci": [
            0.8672668038337514,
            0.8702441931289935
          ],
          "roc_auc_ci": [
            0.5494969055827832,
            0.5540910825412669
          ],
          "cv_scores": {
            "roc_auc": [
              0.5520276619472844,
              0.5540956780480784,
              0.5486087937236965
            ],
            "map": [
              0.24967935438786798,
              0.25132564541540964,
              0.2490129262780515
            ],
            "ndcg": [
              0.8517466716203003,
              0.8534307738448005,
              0.8523976352195377
            ]
          },
          "cv_mean": {
            "roc_auc": 0.5515773779063531,
            "map": 0.25000597536044306,
            "ndcg": 0.8525250268948795
          },
          "cv_std": {
            "roc_auc": 0.0022625268595716603,
            "map": 0.000972000821971551,
            "ndcg": 0.0006934077948083332
          },
          "n_samples": 124750,
          "n_positive": 25453,
          "n_negative": 99297,
          "calibration_time": 0.0
        },
        {
          "threshold": 40,
          "precision_at_k": {
            "1": 0.0,
            "5": 0.2,
            "10": 0.3,
            "20": 0.25
          },
          "recall_at_k": {
            "1": 0.0,
            "5": 3.928809963462067e-05,
            "10": 0.00011786429890386202,
            "20": 0.00019644049817310337
          },
          "map_score": 0.24992008594198117,
          "ndcg_score": 0.8684260418250059,
          "roc_auc": 0.5515735329419644,
          "average_precision": 0.24992008594198117,
          "f1_score": 0.0,
          "precision_ci": {
            "1": [
              0.0,
              1.0
            ],
            "5": [
              0.0,
              0.8099999999999994
            ],
            "10": [
              0.1,
              0.6574999999999995
            ],
            "20": [
              0.14750000000000005,
              0.47624999999999995
            ]
          },
          "recall_ci": {
            "1": [
              0.0,
              3.97271961813779e-05
            ],
            "5": [
              0.0,
              0.00015992047054994948
            ],
            "10": [
              3.9074375366391946e-05,
              0.0002592760795668576
            ],
            "20": [
              0.00011710369050873555,
              0.00037329455281543257
            ]
          },
          "map_ci": [
            0.24598659879645096,
            0.25266223529373677
          ],
          "ndcg_ci": [
            0.8669555106501781,
            0.8697994058843402
          ],
          "roc_auc_ci": [
            0.5483231497463023,
            0.5540549735822943
          ],
          "cv_scores": {
            "roc_auc": [
              0.5520276619472844,
              0.5540956780480784,
              0.5486087937236965
            ],
            "map": [
              0.24967935438786798,
              0.25132564541540964,
              0.2490129262780515
            ],
            "ndcg": [
              0.8517466716203003,
              0.8534307738448005,
              0.8523976352195377
            ]
          },
          "cv_mean": {
            "roc_auc": 0.5515773779063531,
            "map": 0.25000597536044306,
            "ndcg": 0.8525250268948795
          },
          "cv_std": {
            "roc_auc": 0.0022625268595716603,
            "map": 0.000972000821971551,
            "ndcg": 0.0006934077948083332
          },
          "n_samples": 124750,
          "n_positive": 25453,
          "n_negative": 99297,
          "calibration_time": 0.0
        },
        {
          "threshold": 50,
          "precision_at_k": {
            "1": 0.0,
            "5": 0.2,
            "10": 0.3,
            "20": 0.25
          },
          "recall_at_k": {
            "1": 0.0,
            "5": 3.928809963462067e-05,
            "10": 0.00011786429890386202,
            "20": 0.00019644049817310337
          },
          "map_score": 0.24992008594198117,
          "ndcg_score": 0.8684260418250059,
          "roc_auc": 0.5515735329419644,
          "average_precision": 0.24992008594198117,
          "f1_score": 0.0,
          "precision_ci": {
            "1": [
              0.0,
              1.0
            ],
            "5": [
              0.0,
              0.7049999999999997
            ],
            "10": [
              0.14750000000000005,
              0.6524999999999999
            ],
            "20": [
              0.2,
              0.52625
            ]
          },
          "recall_ci": {
            "1": [
              0.0,
              3.9514152417378226e-05
            ],
            "5": [
              0.0,
              0.00013894079595943323
            ],
            "10": [
              5.760738356714687e-05,
              0.0002567398287896304
            ],
            "20": [
              0.00015705699844269827,
              0.00041599101074073523
            ]
          },
          "map_ci": [
            0.24611486718909248,
            0.252534545655754
          ],
          "ndcg_ci": [
            0.8669241832894956,
            0.869563438893885
          ],
          "roc_auc_ci": [
            0.5471914244401506,
            0.5560462799660194
          ],
          "cv_scores": {
            "roc_auc": [
              0.5520276619472844,
              0.5540956780480784,
              0.5486087937236965
            ],
            "map": [
              0.24967935438786798,
              0.25132564541540964,
              0.2490129262780515
            ],
            "ndcg": [
              0.8517466716203003,
              0.8534307738448005,
              0.8523976352195377
            ]
          },
          "cv_mean": {
            "roc_auc": 0.5515773779063531,
            "map": 0.25000597536044306,
            "ndcg": 0.8525250268948795
          },
          "cv_std": {
            "roc_auc": 0.0022625268595716603,
            "map": 0.000972000821971551,
            "ndcg": 0.0006934077948083332
          },
          "n_samples": 124750,
          "n_positive": 25453,
          "n_negative": 99297,
          "calibration_time": 0.0
        },
        {
          "threshold": 60,
          "precision_at_k": {
            "1": 0.0,
            "5": 0.2,
            "10": 0.3,
            "20": 0.25
          },
          "recall_at_k": {
            "1": 0.0,
            "5": 3.928809963462067e-05,
            "10": 0.00011786429890386202,
            "20": 0.00019644049817310337
          },
          "map_score": 0.24992008594198117,
          "ndcg_score": 0.8684260418250059,
          "roc_auc": 0.5515735329419644,
          "average_precision": 0.24992008594198117,
          "f1_score": 0.0,
          "precision_ci": {
            "1": [
              0.0,
              1.0
            ],
            "5": [
              0.09500000000000008,
              0.7049999999999997
            ],
            "10": [
              0.1,
              0.5
            ],
            "20": [
              0.09750000000000003,
              0.52625
            ]
          },
          "recall_ci": {
            "1": [
              0.0,
              3.9533616558067557e-05
            ],
            "5": [
              1.8435862604308186e-05,
              0.00013884476012086604
            ],
            "10": [
              3.909126637198331e-05,
              0.0001974836132632054
            ],
            "20": [
              7.701174858903811e-05,
              0.0004137805230092574
            ]
          },
          "map_ci": [
            0.24664662585360606,
            0.253690096842139
          ],
          "ndcg_ci": [
            0.8667508024297971,
            0.8696280632755012
          ],
          "roc_auc_ci": [
            0.5491537739843412,
            0.5557279263672399
          ],
          "cv_scores": {
            "roc_auc": [
              0.5520276619472844,
              0.5540956780480784,
              0.5486087937236965
            ],
            "map": [
              0.24967935438786798,
              0.25132564541540964,
              0.2490129262780515
            ],
            "ndcg": [
              0.8517466716203003,
              0.8534307738448005,
              0.8523976352195377
            ]
          },
          "cv_mean": {
            "roc_auc": 0.5515773779063531,
            "map": 0.25000597536044306,
            "ndcg": 0.8525250268948795
          },
          "cv_std": {
            "roc_auc": 0.0022625268595716603,
            "map": 0.000972000821971551,
            "ndcg": 0.0006934077948083332
          },
          "n_samples": 124750,
          "n_positive": 25453,
          "n_negative": 99297,
          "calibration_time": 0.0
        },
        {
          "threshold": 70,
          "precision_at_k": {
            "1": 0.0,
            "5": 0.2,
            "10": 0.3,
            "20": 0.25
          },
          "recall_at_k": {
            "1": 0.0,
            "5": 3.928809963462067e-05,
            "10": 0.00011786429890386202,
            "20": 0.00019644049817310337
          },
          "map_score": 0.24992008594198117,
          "ndcg_score": 0.8684260418250059,
          "roc_auc": 0.5515735329419644,
          "average_precision": 0.24992008594198117,
          "f1_score": 0.0,
          "precision_ci": {
            "1": [
              0.0,
              1.0
            ],
            "5": [
              0.0,
              0.7049999999999997
            ],
            "10": [
              0.04750000000000004,
              0.6
            ],
            "20": [
              0.14750000000000005,
              0.55
            ]
          },
          "recall_ci": {
            "1": [
              0.0,
              3.9322446103003334e-05
            ],
            "5": [
              0.0,
              0.00013849367637779292
            ],
            "10": [
              1.8596820922402335e-05,
              0.00023450241250668537
            ],
            "20": [
              0.0001155774956903307,
              0.00042987131470277536
            ]
          },
          "map_ci": [
            0.24695163311207738,
            0.2533245039134723
          ],
          "ndcg_ci": [
            0.8671245797723975,
            0.8699874884042389
          ],
          "roc_auc_ci": [
            0.5479318807345409,
            0.553062074157017
          ],
          "cv_scores": {
            "roc_auc": [
              0.5520276619472844,
              0.5540956780480784,
              0.5486087937236965
            ],
            "map": [
              0.24967935438786798,
              0.25132564541540964,
              0.2490129262780515
            ],
            "ndcg": [
              0.8517466716203003,
              0.8534307738448005,
              0.8523976352195377
            ]
          },
          "cv_mean": {
            "roc_auc": 0.5515773779063531,
            "map": 0.25000597536044306,
            "ndcg": 0.8525250268948795
          },
          "cv_std": {
            "roc_auc": 0.0022625268595716603,
            "map": 0.000972000821971551,
            "ndcg": 0.0006934077948083332
          },
          "n_samples": 124750,
          "n_positive": 25453,
          "n_negative": 99297,
          "calibration_time": 0.0
        },
        {
          "threshold": 80,
          "precision_at_k": {
            "1": 0.0,
            "5": 0.2,
            "10": 0.3,
            "20": 0.25
          },
          "recall_at_k": {
            "1": 0.0,
            "5": 3.928809963462067e-05,
            "10": 0.00011786429890386202,
            "20": 0.00019644049817310337
          },
          "map_score": 0.24992008594198117,
          "ndcg_score": 0.8684260418250059,
          "roc_auc": 0.5515735329419644,
          "average_precision": 0.24992008594198117,
          "f1_score": 0.0,
          "precision_ci": {
            "1": [
              0.0,
              1.0
            ],
            "5": [
              0.0,
              0.8
            ],
            "10": [
              0.1,
              0.6524999999999999
            ],
            "20": [
              0.2,
              0.5524999999999999
            ]
          },
          "recall_ci": {
            "1": [
              0.0,
              3.9315784196932704e-05
            ],
            "5": [
              0.0,
              0.0001568358711215854
            ],
            "10": [
              3.896149326441139e-05,
              0.00025581806375413424
            ],
            "20": [
              0.00015661184529356525,
              0.00043325238971422483
            ]
          },
          "map_ci": [
            0.24637881535665343,
            0.25384541438684666
          ],
          "ndcg_ci": [
            0.8669446860456417,
            0.8698253179005392
          ],
          "roc_auc_ci": [
            0.5479184558963175,
            0.5537576427107312
          ],
          "cv_scores": {
            "roc_auc": [
              0.5520276619472844,
              0.5540956780480784,
              0.5486087937236965
            ],
            "map": [
              0.24967935438786798,
              0.25132564541540964,
              0.2490129262780515
            ],
            "ndcg": [
              0.8517466716203003,
              0.8534307738448005,
              0.8523976352195377
            ]
          },
          "cv_mean": {
            "roc_auc": 0.5515773779063531,
            "map": 0.25000597536044306,
            "ndcg": 0.8525250268948795
          },
          "cv_std": {
            "roc_auc": 0.0022625268595716603,
            "map": 0.000972000821971551,
            "ndcg": 0.0006934077948083332
          },
          "n_samples": 124750,
          "n_positive": 25453,
          "n_negative": 99297,
          "calibration_time": 0.0
        },
        {
          "threshold": 90,
          "precision_at_k": {
            "1": 0.0,
            "5": 0.2,
            "10": 0.3,
            "20": 0.25
          },
          "recall_at_k": {
            "1": 0.0,
            "5": 3.928809963462067e-05,
            "10": 0.00011786429890386202,
            "20": 0.00019644049817310337
          },
          "map_score": 0.24992008594198117,
          "ndcg_score": 0.8684260418250059,
          "roc_auc": 0.5515735329419644,
          "average_precision": 0.24992008594198117,
          "f1_score": 0.0,
          "precision_ci": {
            "1": [
              0.0,
              1.0
            ],
            "5": [
              0.0,
              0.6
            ],
            "10": [
              0.04750000000000004,
              0.5
            ],
            "20": [
              0.17375000000000002,
              0.45
            ]
          },
          "recall_ci": {
            "1": [
              0.0,
              3.947053424929881e-05
            ],
            "5": [
              0.0,
              0.00011822813662366463
            ],
            "10": [
              1.8856689162366033e-05,
              0.00019712425312839627
            ],
            "20": [
              0.00013671686934686348,
              0.0003525247437976113
            ]
          },
          "map_ci": [
            0.24675589964448372,
            0.2534829072912261
          ],
          "ndcg_ci": [
            0.8671153784328842,
            0.8698724639175948
          ],
          "roc_auc_ci": [
            0.5493860687504615,
            0.5543394628157723
          ],
          "cv_scores": {
            "roc_auc": [
              0.5520276619472844,
              0.5540956780480784,
              0.5486087937236965
            ],
            "map": [
              0.24967935438786798,
              0.25132564541540964,
              0.2490129262780515
            ],
            "ndcg": [
              0.8517466716203003,
              0.8534307738448005,
              0.8523976352195377
            ]
          },
          "cv_mean": {
            "roc_auc": 0.5515773779063531,
            "map": 0.25000597536044306,
            "ndcg": 0.8525250268948795
          },
          "cv_std": {
            "roc_auc": 0.0022625268595716603,
            "map": 0.000972000821971551,
            "ndcg": 0.0006934077948083332
          },
          "n_samples": 124750,
          "n_positive": 25453,
          "n_negative": 99297,
          "calibration_time": 0.0
        }
      ]
    },
    "drift_detection": [
      {
        "batch": 1,
        "is_drifted": false,
        "js_divergence": 0.00300645490960731,
        "severity": "none",
        "recommend_recalibration": "False"
      },
      {
        "batch": 2,
        "is_drifted": true,
        "js_divergence": 0.02825456750015929,
        "severity": "low",
        "recommend_recalibration": "False"
      },
      {
        "batch": 3,
        "is_drifted": false,
        "js_divergence": 0.024869112551844322,
        "severity": "none",
        "recommend_recalibration": "False"
      },
      {
        "batch": 4,
        "is_drifted": false,
        "js_divergence": 0.017844347624452615,
        "severity": "none",
        "recommend_recalibration": "False"
      }
    ],
    "drift_detected_count": 1,
    "recalibration_needed": false
  },
  "bit_packing": {
    "compression_ratio": 8.0,
    "space_saving": 87.5,
    "pack_time": 5.817413330078125e-05,
    "unpack_time": 2.2649765014648438e-05,
    "packed_distance_time": 0.0006990432739257812,
    "unpacked_distance_time": 0.014547109603881836,
    "distance_speedup": 20.810027285129603,
    "unpacked_bytes": 128000,
    "packed_bytes": 16000
  }
}